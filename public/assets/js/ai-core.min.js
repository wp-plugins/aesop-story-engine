!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var d=document.createElement("style"),e=document.getElementsByTagName("body")[0],f=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";d.className="fit-vids-style",d.id="fit-vids-style",d.innerHTML=f,e.appendChild(d)}return b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=a(this).find(b.join(","));d=d.not("object object"),d.each(function(){var b=a(this);if(!("embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),d=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),e=c/d;if(!b.attr("id")){var f="fitvid"+Math.floor(999999*Math.random());b.attr("id",f)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(a,b,c,d){c.swipebox=function(e,f){var g,h,i={useCSS:!0,useSVG:!0,initialIndexOnArray:0,closeBySwipe:!0,hideBarsOnMobile:!0,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"CCCCCC",beforeOpen:null,afterOpen:null,afterClose:null},j=this,k=[],l=e.selector,m=c(l),n=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),o=null!==n||b.createTouch!==d||"ontouchstart"in a||"onmsgesturechange"in a||navigator.msMaxTouchPoints,p=!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,q=a.innerWidth?a.innerWidth:c(a).width(),r=a.innerHeight?a.innerHeight:c(a).height(),s='<div id="swipebox-overlay">					<div id="swipebox-slider"></div>					<div id="swipebox-caption"></div>					<div id="swipebox-action">						<a id="swipebox-close"></a>						<a id="swipebox-prev"></a>						<a id="swipebox-next"></a>					</div>			</div>';j.settings={},j.init=function(){j.settings=c.extend({},i,f),c.isArray(e)?(k=e,g.target=c(a),g.init(j.settings.initialIndexOnArray)):c(b).on("click",l,function(a){if("slide current"===a.target.parentNode.className)return!1;c.isArray(e)||(g.destroy(),h=c(l),g.actions()),k=[];var b,d,f;f||(d="data-rel",f=c(this).attr(d)),f||(d="rel",f=c(this).attr(d)),h=f&&""!==f&&"nofollow"!==f?m.filter("["+d+'="'+f+'"]'):c(l),h.each(function(){var a=null,b=null;c(this).attr("title")&&(a=c(this).attr("title")),c(this).attr("href")&&(b=c(this).attr("href")),k.push({href:b,title:a})}),b=h.index(c(this)),a.preventDefault(),a.stopPropagation(),g.target=c(a.target),g.init(b)})},g={init:function(a){j.settings.beforeOpen&&j.settings.beforeOpen(),this.target.trigger("swipebox-start"),c.swipebox.isOpen=!0,this.build(),this.openSlide(a),this.openMedia(a),this.preloadMedia(a+1),this.preloadMedia(a-1),j.settings.afterOpen&&j.settings.afterOpen()},build:function(){var a,b=this;c("body").append(s),b.doCssTrans()&&(c("#swipebox-slider").css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease","-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"}),c("#swipebox-overlay").css({"-webkit-transition":"opacity 1s ease","-moz-transition":"opacity 1s ease","-o-transition":"opacity 1s ease","-khtml-transition":"opacity 1s ease",transition:"opacity 1s ease"}),c("#swipebox-action, #swipebox-caption").css({"-webkit-transition":"0.5s","-moz-transition":"0.5s","-o-transition":"0.5s","-khtml-transition":"0.5s",transition:"0.5s"})),p&&j.settings.useSVG===!0&&(a=c("#swipebox-action #swipebox-close").css("background-image"),a=a.replace("png","svg"),c("#swipebox-action #swipebox-prev,#swipebox-action #swipebox-next,#swipebox-action #swipebox-close").css({"background-image":a})),n&&j.settings.hideBarsOnMobile===!0&&c("#swipebox-action, #swipebox-caption").hide(),c.each(k,function(){c("#swipebox-slider").append('<div class="slide"></div>')}),b.setDim(),b.actions(),o&&b.gesture(),b.keyboard(),b.animBars(),b.resize()},setDim:function(){var b,d,e={};"onorientationchange"in a?a.addEventListener("orientationchange",function(){0===a.orientation?(b=q,d=r):(90===a.orientation||-90===a.orientation)&&(b=r,d=q)},!1):(b=a.innerWidth?a.innerWidth:c(a).width(),d=a.innerHeight?a.innerHeight:c(a).height()),e={width:b,height:d},c("#swipebox-overlay").css(e)},resize:function(){var b=this;c(a).resize(function(){b.setDim()}).resize()},supportTransition:function(){var a,c="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(a=0;a<c.length;a++)if(b.createElement("div").style[c[a]]!==d)return c[a];return!1},doCssTrans:function(){return j.settings.useCSS&&this.supportTransition()?!0:void 0},gesture:function(){var a=this,b=null,d=null,e=!1,f=10,g=50,h={},i={},k=c("#swipebox-caption, #swipebox-action"),l=c("#swipebox-slider");k.addClass("visible-bars"),a.setTimeout(),c("body").bind("touchstart",function(a){return c(this).addClass("touching"),i=a.originalEvent.targetTouches[0],h.pageX=a.originalEvent.targetTouches[0].pageX,h.pageY=a.originalEvent.targetTouches[0].pageY,c(".touching").bind("touchmove",function(a){if(a.preventDefault(),a.stopPropagation(),i=a.originalEvent.targetTouches[0],j.settings.closeBySwipe&&(d=i.pageY-h.pageY,Math.abs(d)>=g||e)){var b=.75-Math.abs(d)/l.height();l.css({top:d+"px"}),l.css({opacity:b}),e=!0}}),!1}).bind("touchend",function(g){if(g.preventDefault(),g.stopPropagation(),j.settings.closeBySwipe){if(l.css("opacity")<=.5){var m=d>0?l.height():-l.height();l.animate({top:m+"px",opacity:0},300,function(){a.closeSlide()})}else l.animate({top:0,opacity:1},300);if(e)return void(e=!1)}b=i.pageX-h.pageX,b>=f?a.getPrev():-f>=b?a.getNext():k.hasClass("visible-bars")?(a.clearTimeout(),a.hideBars()):(a.showBars(),a.setTimeout()),c(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(j.settings.hideBarsDelay>0){var b=this;b.clearTimeout(),b.timeout=a.setTimeout(function(){b.hideBars()},j.settings.hideBarsDelay)}},clearTimeout:function(){a.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var a=c("#swipebox-caption, #swipebox-action");this.doCssTrans()?a.addClass("visible-bars"):(c("#swipebox-caption").animate({top:0},500),c("#swipebox-action").animate({bottom:0},500),setTimeout(function(){a.addClass("visible-bars")},1e3))},hideBars:function(){var a=c("#swipebox-caption, #swipebox-action");this.doCssTrans()?a.removeClass("visible-bars"):(c("#swipebox-caption").animate({top:"-50px"},500),c("#swipebox-action").animate({bottom:"-50px"},500),setTimeout(function(){a.removeClass("visible-bars")},1e3))},animBars:function(){var a=this,b=c("#swipebox-caption, #swipebox-action");b.addClass("visible-bars"),a.setTimeout(),c("#swipebox-slider").click(function(){b.hasClass("visible-bars")||(a.showBars(),a.setTimeout())}),c("#swipebox-action").hover(function(){a.showBars(),b.addClass("visible-bars"),a.clearTimeout()},function(){b.removeClass("visible-bars"),a.setTimeout()})},keyboard:function(){var b=this;c(a).bind("keyup",function(a){a.preventDefault(),a.stopPropagation(),37===a.keyCode?b.getPrev():39===a.keyCode?b.getNext():27===a.keyCode&&b.closeSlide()})},actions:function(){var a=this,b="touchend click";k.length<2?c("#swipebox-prev, #swipebox-next").hide():(c("#swipebox-prev").bind(b,function(b){b.preventDefault(),b.stopPropagation(),a.getPrev(),a.setTimeout()}),c("#swipebox-next").bind(b,function(b){b.preventDefault(),b.stopPropagation(),a.getNext(),a.setTimeout()})),c("#swipebox-close").bind(b,function(){a.closeSlide()})},setSlide:function(a,b){b=b||!1;var d=c("#swipebox-slider");this.doCssTrans()?d.css({left:100*-a+"%"}):d.animate({left:100*-a+"%"}),c("#swipebox-slider .slide").removeClass("current"),c("#swipebox-slider .slide").eq(a).addClass("current"),this.setTitle(a),b&&d.fadeIn(),c("#swipebox-prev, #swipebox-next").removeClass("disabled"),0===a?c("#swipebox-prev").addClass("disabled"):a===k.length-1&&c("#swipebox-next").addClass("disabled")},openSlide:function(b){c("html").addClass("swipebox-html"),o&&c("html").addClass("swipebox-touch"),c(a).trigger("resize"),this.setSlide(b,!0)},preloadMedia:function(a){var b=this,c=null;k[a]!==d&&(c=k[a].href),b.isVideo(c)?b.openMedia(a):setTimeout(function(){b.openMedia(a)},1e3)},openMedia:function(a){var b=this,e=null;return k[a]!==d&&(e=k[a].href),0>a||a>=k.length?!1:void(b.isVideo(e)?c("#swipebox-slider .slide").eq(a).html(b.getVideo(e)):b.loadMedia(e,function(){c("#swipebox-slider .slide").eq(a).html(this)}))},setTitle:function(a){var b=null;c("#swipebox-caption").empty(),k[a]!==d&&(b=k[a].title),b&&c("#swipebox-caption").append(b)},isVideo:function(a){return a&&(a.match(/youtube\.com\/watch\?v=([a-zA-Z0-9\-_]+)/)||a.match(/vimeo\.com\/([0-9]*)/)||a.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))?!0:void 0},getVideo:function(a){var b="",c=a.match(/watch\?v=([a-zA-Z0-9\-_]+)/),d=a.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/),e=a.match(/vimeo\.com\/([0-9]*)/);return c||d?(d&&(c=d),b='<iframe width="560" height="315" src="//www.youtube.com/embed/'+c[1]+'" frameborder="0" allowfullscreen></iframe>'):e&&(b='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+e[1]+"?byline=0&amp;portrait=0&amp;color="+j.settings.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),'<div class="swipebox-video-container" style="max-width:'+j.settings.videomaxWidth+'px"><div class="swipebox-video">'+b+"</div></div>"},loadMedia:function(a,b){if(!this.isVideo(a)){var d=c("<img>").on("load",function(){b.call(d)});d.attr("src",a)}},getNext:function(){var a=this,b=c("#swipebox-slider .slide").index(c("#swipebox-slider .slide.current"));b+1<k.length?(b++,a.setSlide(b),a.preloadMedia(b+1)):(c("#swipebox-slider").addClass("rightSpring"),setTimeout(function(){c("#swipebox-slider").removeClass("rightSpring")},500))},getPrev:function(){var a=c("#swipebox-slider .slide").index(c("#swipebox-slider .slide.current"));a>0?(a--,this.setSlide(a),this.preloadMedia(a-1)):(c("#swipebox-slider").addClass("leftSpring"),setTimeout(function(){c("#swipebox-slider").removeClass("leftSpring")},500))},closeSlide:function(){c("html").removeClass("swipebox-html"),c("html").removeClass("swipebox-touch"),c(a).trigger("resize"),this.destroy()},destroy:function(){c(a).unbind("keyup"),c("body").unbind("touchstart"),c("body").unbind("touchmove"),c("body").unbind("touchend"),c("#swipebox-slider").unbind(),c("#swipebox-overlay").remove(),c.isArray(e)||e.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),c.swipebox.isOpen=!1,j.settings.afterClose&&j.settings.afterClose()}},j.init()},c.fn.swipebox=function(a){if(!c.data(this,"_swipebox")){var b=new c.swipebox(this,a);this.data("_swipebox",b)}return this.data("_swipebox")}}(window,document,jQuery),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;return b.didScroll||l?void 0:(b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle))}),a.bind(o,function(){var a;return b.didResize?void 0:(b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle))})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){return b.options.continuous||a===g.length-1?b.trigger([e]):void 0})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;return e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,d.options.onlyOnScroll&&null!=g||!d.enabled?void 0:null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){return c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([o,p].join(" ")),delete k[this.id]):void 0},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0):void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return null==b&&(b={}),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b>0?a.push(c[b-1]):void 0})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b<c.length-1?a.push(c[b+1]):void 0})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):c.error(d?"The "+d+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){return d(e,b)?f.push(b):void 0}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}.call(this),!function(a,b,c,d,e){"use strict";function f(a){var b="bez_"+d.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof d.easing[b]){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){for(var b,c=a,d=0;++d<14&&(b=f(c,0)-a,!(Math.abs(b)<.001));)c-=b/g(c);return c};return function(a){return f(h(a),1)}};d.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}function g(){}function h(a,b,c){return Math.max(isNaN(b)?-1/0:b,Math.min(isNaN(c)?1/0:c,a))}function i(a){return a.match(/ma/)&&a.match(/-?\d+(?!d)/g)[a.match(/3d/)?12:4]}function j(a){return Bc?+i(a.css("transform")):+a.css("left").replace("px","")}function k(a,b){var c={};return Bc?c.transform="translate3d("+(a+(b?.001:0))+"px,0,0)":c.left=a,c}function l(a){return{"transition-duration":a+"ms"}}function m(a,b){return+String(a).replace(b||"px","")||e}function n(a){return/%$/.test(a)&&m(a,"%")}function o(a){return(!!m(a)||!!m(a,"%"))&&a}function p(a,b,c,d){return(a-(d||0))*(b+(c||0))}function q(a,b,c,d){return-Math.round(a/(b+(c||0))-(d||0))}function r(a){var b=a.data();if(!b.tEnd){var c=a[0],d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};c.addEventListener(d[jc.prefixed("transition")],function(a){b.tProp&&a.propertyName.match(b.tProp)&&b.onEndFn()},!1),b.tEnd=!0}}function s(a,b,c,d){var e,f=a.data();f&&(f.onEndFn=function(){e||(e=!0,clearTimeout(f.tT),c())},f.tProp=b,clearTimeout(f.tT),f.tT=setTimeout(function(){f.onEndFn()},1.5*d),r(a))}function t(a,b,c){if(a.length){var d=a.data();Bc?(a.css(l(0)),d.onEndFn=g,clearTimeout(d.tT)):a.stop();var e=u(b,function(){return j(a)});return a.css(k(e,c)),e}}function u(){for(var a,b=0,c=arguments.length;c>b&&(a=b?arguments[b]():arguments[b],"number"!=typeof a);b++);return a}function v(a,b){return Math.round(a+(b-a)/1.5)}function w(){return w.p=w.p||("https://"===c.protocol?"https://":"http://"),w.p}function x(a){var c=b.createElement("a");return c.href=a,c}function y(a,b){if("string"!=typeof a)return a;a=x(a);var c,d;if(a.host.match(/youtube\.com/)&&a.search){if(c=a.search.split("v=")[1]){var e=c.indexOf("&");-1!==e&&(c=c.substring(0,e)),d="youtube"}}else a.host.match(/youtube\.com|youtu\.be/)?(c=a.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),d="youtube"):a.host.match(/vimeo\.com/)&&(d="vimeo",c=a.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return c&&d||!b||(c=a.href,d="custom"),c?{id:c,type:d,s:a.search.replace(/^\?/,"")}:!1}function z(a,b,c){var e,f,g=a.video;return"youtube"===g.type?(f=w()+"img.youtube.com/vi/"+g.id+"/default.jpg",e=f.replace(/\/default.jpg$/,"/hqdefault.jpg"),a.thumbsReady=!0):"vimeo"===g.type?d.ajax({url:w()+"vimeo.com/api/v2/video/"+g.id+".json",dataType:"jsonp",success:function(d){a.thumbsReady=!0,A(b,{img:d[0].thumbnail_large,thumb:d[0].thumbnail_small},a.i,c)}}):a.thumbsReady=!0,{img:e,thumb:f}}function A(a,b,c,e){for(var f=0,g=a.length;g>f;f++){var h=a[f];if(h.i===c&&h.thumbsReady){var i={videoReady:!0};i[Rc]=i[Tc]=i[Sc]=!1,e.splice(f,1,d.extend({},h,i,b));break}}}function B(a){function b(a,b,e){var f=a.children("img").eq(0),g=a.attr("href"),h=a.attr("src"),i=f.attr("src"),j=b.video,k=e?y(g,j===!0):!1;k?g=!1:k=j,c(a,f,d.extend(b,{video:k,img:b.img||g||h||i,thumb:b.thumb||i||h||g}))}function c(a,b,c){var e=c.thumb&&c.img!==c.thumb,f=m(c.width||a.attr("width")),g=m(c.height||a.attr("height"));d.extend(c,{width:f,height:g,thumbratio:Q(c.thumbratio||m(c.thumbwidth||b&&b.attr("width")||e||f)/m(c.thumbheight||b&&b.attr("height")||e||g))})}var e=[];return a.children().each(function(){var a=d(this),f=P(d.extend(a.data(),{id:a.attr("id")}));if(a.is("a, img"))b(a,f,!0);else{if(a.is(":empty"))return;c(a,null,d.extend(f,{html:this,_html:a.html()}))}e.push(f)}),e}function C(a){return 0===a.offsetWidth&&0===a.offsetHeight}function D(a){return!d.contains(b.documentElement,a)}function E(a,b,c){a()?b():setTimeout(function(){E(a,b)},c||100)}function F(a){c.replace(c.protocol+"//"+c.host+c.pathname.replace(/^\/?/,"/")+c.search+"#"+a)}function G(a,b,c){var d=a.data(),e=d.measures;if(e&&(!d.l||d.l.W!==e.width||d.l.H!==e.height||d.l.r!==e.ratio||d.l.w!==b.w||d.l.h!==b.h||d.l.m!==c)){var f=e.width,g=e.height,i=b.w/b.h,j=e.ratio>=i,k="scaledown"===c,l="contain"===c,m="cover"===c;j&&(k||l)||!j&&m?(f=h(b.w,0,k?f:1/0),g=f/e.ratio):(j&&m||!j&&(k||l))&&(g=h(b.h,0,k?g:1/0),f=g*e.ratio),a.css({width:Math.ceil(f),height:Math.ceil(g),marginLeft:Math.floor(-f/2),marginTop:Math.floor(-g/2)}),d.l={W:e.width,H:e.height,r:e.ratio,w:b.w,h:b.h,m:c}}return!0}function H(a,b){var c=a[0];c.styleSheet?c.styleSheet.cssText=b:a.html(b)}function I(a,b,c){return b===c?!1:b>=a?"left":a>=c?"right":"left right"}function J(a,b,c,d){if(!c)return!1;if(!isNaN(a))return a-(d?0:1);for(var e,f=0,g=b.length;g>f;f++){var h=b[f];if(h.id===a){e=f;break}}return e}function K(a,b,c){c=c||{},a.each(function(){var a,e=d(this),f=e.data();f.clickOn||(f.clickOn=!0,d.extend(W(e,{onStart:function(b){a=b,(c.onStart||g).call(this,b)},onMove:c.onMove||g,onTouchEnd:c.onTouchEnd||g,onEnd:function(d){d.moved||c.tail.checked||b.call(this,a)}}),c.tail))})}function L(a,b){return'<div class="'+a+'">'+(b||"")+"</div>"}function M(a){for(var b=a.length;b;){var c=Math.floor(Math.random()*b--),d=a[b];a[b]=a[c],a[c]=d}return a}function N(a){return"[object Array]"==Object.prototype.toString.call(a)&&d.map(a,function(a){return d.extend({},a)})}function O(a,b){xc.scrollLeft(a).scrollTop(b)}function P(a){if(a){var b={};return d.each(a,function(a,c){b[a.toLowerCase()]=c}),b}}function Q(a){if(a){var b=+a;return isNaN(b)?(b=a.split("/"),+b[0]/+b[1]||e):b}}function R(a,b){a.preventDefault(),b&&a.stopPropagation()}function S(a){return a?">":"<"}function T(a,b){var c=Math.round(b.pos),e=b.onEnd||g;"undefined"!=typeof b.overPos&&b.overPos!==b.pos&&(c=b.overPos,e=function(){T(a,d.extend({},b,{overPos:b.pos,time:Math.max(Kc,b.time/2)}))});var f=d.extend(k(c,b._001),b.width&&{width:b.width});Bc?(a.css(d.extend(l(b.time),f)),b.time>10?s(a,"transform",e,b.time):e()):a.stop().animate(f,b.time,Uc,e)}function U(a,b,c,e,f,h){var i="undefined"!=typeof h;if(i||(f.push(arguments),Array.prototype.push.call(arguments,f.length),!(f.length>1))){a=a||d(a),b=b||d(b);var j=a[0],k=b[0],l="crossfade"===e.method,m=function(){if(!m.done){m.done=!0;var a=(i||f.shift())&&f.shift();a&&U.apply(this,a),(e.onEnd||g)(!!a)}},n=e.time/(h||1);c.not(a.addClass(Hb).removeClass(Gb)).not(b.addClass(Gb).removeClass(Hb)).removeClass(Hb+" "+Gb),a.stop(),b.stop(),l&&k&&a.fadeTo(0,0),a.fadeTo(l?n:1,1,l&&m),b.fadeTo(n,0,m),j&&l||k||m()}}function V(a){var b=(a.touches||[])[0]||a;a._x=b.pageX,a._y=b.clientY}function W(c,e){function f(a){return n=d(a.target),t.checked=q=r=!1,l||t.flow||a.touches&&a.touches.length>1||a.which>1||tc&&tc.type!==a.type&&vc||(q=e.select&&n.is(e.select,s))?q:(p="touchstart"===a.type,r=n.is("a, a *",s),V(a),m=tc=a,uc=a.type.replace(/down|start/,"move").replace(/Down/,"Move"),o=t.control,(e.onStart||g).call(s,a,{control:o,$target:n}),l=t.flow=!0,void((!p||t.go)&&R(a)))}function h(a){if(a.touches&&a.touches.length>1||Hc&&!a.isPrimary||uc!==a.type||!l)return l&&i(),void(e.onTouchEnd||g)();V(a);var b=Math.abs(a._x-m._x),c=Math.abs(a._y-m._y),d=b-c,f=(t.go||t.x||d>=0)&&!t.noSwipe,h=0>d;p&&!t.checked?(l=f)&&R(a):(R(a),(e.onMove||g).call(s,a,{touch:p})),t.checked=t.checked||f||h}function i(a){(e.onTouchEnd||g)();var b=l;t.control=l=!1,b&&(t.flow=!1),!b||r&&!t.checked||(a&&R(a),vc=!0,clearTimeout(wc),wc=setTimeout(function(){vc=!1},1e3),(e.onEnd||g).call(s,{moved:t.checked,$target:n,control:o,touch:p,startEvent:m,aborted:!a||"MSPointerCancel"===a.type}))}function j(){t.flow||setTimeout(function(){t.flow=!0},10)}function k(){t.flow&&setTimeout(function(){t.flow=!1},Jc)}var l,m,n,o,p,q,r,s=c[0],t={};return Hc?(s[Gc]("MSPointerDown",f,!1),b[Gc]("MSPointerMove",h,!1),b[Gc]("MSPointerCancel",i,!1),b[Gc]("MSPointerUp",i,!1)):(s[Gc]&&(s[Gc]("touchstart",f,!1),s[Gc]("touchmove",h,!1),s[Gc]("touchend",i,!1),b[Gc]("touchstart",j,!1),b[Gc]("touchend",k,!1),b[Gc]("touchcancel",k,!1),a[Gc]("scroll",k,!1)),c.on("mousedown",f),yc.on("mousemove",h).on("mouseup",i)),c.on("click","a",function(a){t.checked&&R(a)}),t}function X(a,b){function c(c){j=l=c._x,q=d.now(),p=[[q,j]],m=n=C.noMove?0:t(a,(b.getPos||g)(),b._001),(b.onStart||g).call(A,c)}function e(a,b){s=B.min,u=B.max,w=B.snap,x=a.altKey,z=!1,y=b.control,y||c(a)}function f(e,f){y&&(y=!1,c(e)),C.noSwipe||(l=e._x,p.push([d.now(),l]),n=m-(j-l),o=I(n,s,u),s>=n?n=v(n,s):n>=u&&(n=v(n,u)),C.noMove||(a.css(k(n,b._001)),z||(z=!0,f.touch||Hc||a.addClass(Wb)),(b.onMove||g).call(A,e,{pos:n,edge:o})))}function i(c){if(!y){c.touch||Hc||a.removeClass(Wb),r=(new Date).getTime();for(var e,f,i,j,k,o,q,t,v,z=r-Jc,B=null,C=Kc,D=b.friction,E=p.length-1;E>=0;E--){if(e=p[E][0],f=Math.abs(e-z),null===B||i>f)B=e,j=p[E][1];else if(B===z||f>i)break;i=f}q=h(n,s,u);var F=j-l,G=F>=0,H=r-B,I=H>Jc,J=!I&&n!==m&&q===n;w&&(q=h(Math[J?G?"floor":"ceil":"round"](n/w)*w,s,u),s=u=q),J&&(w||q===n)&&(v=-(F/H),C*=h(Math.abs(v),b.timeLow,b.timeHigh),k=Math.round(n+v*C/D),w||(q=k),(!G&&k>u||G&&s>k)&&(o=G?s:u,t=k-o,w||(q=o),t=h(q+.03*t,o-50,o+50),C=Math.abs((n-t)/(v/D)))),C*=x?10:1,(b.onEnd||g).call(A,d.extend(c,{pos:n,newPos:q,overPos:t,time:C,moved:I?w:Math.abs(n-m)>(w?0:3)}))}}var j,l,m,n,o,p,q,r,s,u,w,x,y,z,A=a[0],B=a.data(),C={};return C=d.extend(W(b.$wrap,{onStart:e,onMove:f,onTouchEnd:b.onTouchEnd,onEnd:i,select:b.select,control:b.control}),C)}function Y(a,b){var c,e,f,h=a[0],i={prevent:{}};return h[Gc]&&h[Gc](Ic,function(a){var h=a.wheelDeltaY||-1*a.deltaY||0,j=a.wheelDeltaX||-1*a.deltaX||0,k=Math.abs(j)>Math.abs(h),l=S(0>j),m=e===l,n=d.now(),o=Jc>n-f;e=l,f=n,k&&i.ok&&(!i.prevent[l]||c)&&(R(a,!0),c&&m&&o||(b.shift&&(c=!0,clearTimeout(i.t),i.t=setTimeout(function(){c=!1},Lc)),(b.onEnd||g)(a,b.shift?l:j)))},!1),i}function Z(){d.each(d.Fotorama.instances,function(a,b){b.index=a})}function $(a){d.Fotorama.instances.push(a),Z()}function _(a){d.Fotorama.instances.splice(a.index,1),Z()}var ab="fotorama",bb="fullscreen",cb=ab+"__wrap",db=cb+"--css2",eb=cb+"--css3",fb=cb+"--video",gb=cb+"--fade",hb=cb+"--slide",ib=cb+"--no-controls",jb=cb+"--no-shadows",kb=cb+"--pan-y",lb=cb+"--rtl",mb=ab+"__stage",nb=mb+"__frame",ob=nb+"--video",pb=mb+"__shaft",qb=mb+"--only-active",rb=ab+"__grab",sb=ab+"__pointer",tb=ab+"__arr",ub=tb+"--disabled",vb=tb+"--prev",wb=tb+"--next",xb=ab+"__nav",yb=xb+"-wrap",zb=xb+"__shaft",Ab=xb+"--dots",Bb=xb+"--thumbs",Cb=xb+"__frame",Db=Cb+"--dot",Eb=Cb+"--thumb",Fb=ab+"__fade",Gb=Fb+"-front",Hb=Fb+"-rear",Ib=ab+"__shadow",Jb=Ib+"s",Kb=Jb+"--left",Lb=Jb+"--right",Mb=ab+"__active",Nb=ab+"__select",Ob=ab+"--hidden",Pb=ab+"--fullscreen",Qb=ab+"__fullscreen-icon",Rb=ab+"__error",Sb=ab+"__loading",Tb=ab+"__loaded",Ub=Tb+"--full",Vb=Tb+"--img",Wb=ab+"__grabbing",Xb=ab+"__img",Yb=Xb+"--full",Zb=ab+"__dot",$b=ab+"__thumb",_b=$b+"-border",ac=ab+"__html",bc=ab+"__video",cc=bc+"-play",dc=bc+"-close",ec=ab+"__caption",fc=ab+"__caption__wrap",gc=ab+"__spinner",hc=d&&d.fn.jquery.split(".");if(!hc||hc[0]<1||1==hc[0]&&hc[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var ic={},jc=function(a,b,c){function d(a){r.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&r[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+u.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+v.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l,m="2.6.2",n={},o=b.documentElement,p="modernizr",q=b.createElement(p),r=q.style,s=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),t="Webkit Moz O ms",u=t.split(" "),v=t.toLowerCase().split(" "),w={},x=[],y=x.slice,z=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:p+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',p,'">',a,"</style>"].join(""),j.id=p,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=o.style.overflow,o.style.overflow="hidden",o.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),o.style.overflow=i),!!g},A={}.hasOwnProperty;l=e(A,"undefined")||e(A.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return A.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=y.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(y.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(y.call(arguments)))};return d}),w.csstransforms3d=function(){var a=!!i("perspective");
return a};for(var B in w)l(w,B)&&(k=B.toLowerCase(),n[k]=w[B](),x.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(o.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),q=j=null,n._version=m,n._prefixes=s,n._domPrefixes=v,n._cssomPrefixes=u,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=z,n.prefixed=function(a,b,c){return b?i(a,b,c):i(a,"pfx")},n}(a,b),kc={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},lc="webkit moz o ms khtml".split(" ");if("undefined"!=typeof b.cancelFullScreen)kc.ok=!0;else for(var mc=0,nc=lc.length;nc>mc;mc++)if(kc.prefix=lc[mc],"undefined"!=typeof b[kc.prefix+"CancelFullScreen"]){kc.ok=!0;break}kc.ok&&(kc.event=kc.prefix+"fullscreenchange",kc.is=function(){switch(this.prefix){case"":return b.fullScreen;case"webkit":return b.webkitIsFullScreen;default:return b[this.prefix+"FullScreen"]}},kc.request=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},kc.cancel=function(){return""===this.prefix?b.cancelFullScreen():b[this.prefix+"CancelFullScreen"]()});var oc,pc={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},qc={top:"auto",left:"auto",className:""};!function(a,b){oc=b()}(this,function(){function a(a,c){var d,e=b.createElement(a||"div");for(d in c)e[d]=c[d];return e}function c(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function d(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+100*(c/d),g=Math.max(1-(1-a)/b*(100-f),a),h=m.substring(0,m.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return o[e]||(p.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",p.cssRules.length),o[e]=1),e}function f(a,b){var c,d,f=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<n.length;d++)if(c=n[d]+b,f[c]!==e)return c;return f[b]!==e?b:void 0}function g(a,b){for(var c in b)a.style[f(a,c)||c]=b[c];return a}function h(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]===e&&(a[d]=c[d])}return a}function i(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function j(a,b){return"string"==typeof a?a:a[b%a.length]}function k(a){return"undefined"==typeof this?new k(a):void(this.opts=h(a||{},k.defaults,q))}function l(){function b(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}p.addRule(".spin-vml","behavior:url(#default#VML)"),k.prototype.lines=function(a,d){function e(){return g(b("group",{coordsize:k+" "+k,coordorigin:-i+" "+-i}),{width:k,height:k})}function f(a,f,h){c(m,c(g(e(),{rotation:360/d.lines*a+"deg",left:~~f}),c(g(b("roundrect",{arcsize:d.corners}),{width:i,height:d.width,left:d.radius,top:-d.width>>1,filter:h}),b("fill",{color:j(d.color,a),opacity:d.opacity}),b("stroke",{opacity:0}))))}var h,i=d.length+d.width,k=2*i,l=2*-(d.width+d.length)+"px",m=g(e(),{position:"absolute",top:l,left:l});if(d.shadow)for(h=1;h<=d.lines;h++)f(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=d.lines;h++)f(h);return c(a,m)},k.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var m,n=["webkit","Moz","ms","O"],o={},p=function(){var d=a("style",{type:"text/css"});return c(b.getElementsByTagName("head")[0],d),d.sheet||d.styleSheet}(),q={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};k.defaults={},h(k.prototype,{spin:function(b){this.stop();var c,d,e=this,f=e.opts,h=e.el=g(a(0,{className:f.className}),{position:f.position,width:0,zIndex:f.zIndex}),j=f.radius+f.length+f.width;if(b&&(b.insertBefore(h,b.firstChild||null),d=i(b),c=i(h),g(h,{left:("auto"==f.left?d.x-c.x+(b.offsetWidth>>1):parseInt(f.left,10)+j)+"px",top:("auto"==f.top?d.y-c.y+(b.offsetHeight>>1):parseInt(f.top,10)+j)+"px"})),h.setAttribute("role","progressbar"),e.lines(h,e.opts),!m){var k,l=0,n=(f.lines-1)*(1-f.direction)/2,o=f.fps,p=o/f.speed,q=(1-f.opacity)/(p*f.trail/100),r=p/f.lines;!function s(){l++;for(var a=0;a<f.lines;a++)k=Math.max(1-(l+(f.lines-a)*r)%p*q,f.opacity),e.opacity(h,a*f.direction+n,k,f);e.timeout=e.el&&setTimeout(s,~~(1e3/o))}()}return e},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=e),this},lines:function(b,e){function f(b,c){return g(a(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*i+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var h,i=0,k=(e.lines-1)*(1-e.direction)/2;i<e.lines;i++)h=g(a(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:m&&d(e.opacity,e.trail,k+i*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&c(h,g(f("#000","0 0 4px #000"),{top:"2px"})),c(b,c(h,f(j(e.color,i),"0 0 1px rgba(0,0,0,.1)")));return b},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var r=g(a("group"),{behavior:"url(#default#VML)"});return!f(r,"transform")&&r.adj?l():m=f(r,"animation"),k});var rc,sc,tc,uc,vc,wc,xc=d(a),yc=d(b),zc="quirks"===c.hash.replace("#",""),Ac=jc.csstransforms3d,Bc=Ac&&!zc,Cc=Ac||"CSS1Compat"===b.compatMode,Dc=kc.ok,Ec=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Fc=!Bc||Ec,Gc="addEventListener",Hc=a.navigator.msPointerEnabled,Ic="onwheel"in b.createElement("div")?"wheel":b.onmousewheel!==e?"mousewheel":"DOMMouseScroll",Jc=250,Kc=300,Lc=1400,Mc=5e3,Nc=2,Oc=64,Pc=500,Qc=333,Rc="$stageFrame",Sc="$navDotFrame",Tc="$navThumbFrame",Uc=f([.1,0,.25,1]);jQuery.Fotorama=function(a,e){function f(){d.each(kd,function(a,b){if(!b.i){b.i=Xd++;var c=y(b.video,!0);if(c){var d={};b.video=c,b.img||b.thumb?b.thumbsReady=!0:d=z(b,kd,Td),A(kd,{img:d.img,thumb:d.thumb},b.i,Td)}}})}function g(a){var b="keydown."+ab,c="keydown."+ab+Ud,d="resize."+ab+Ud;a?(yc.on(c,function(a){od&&27===a.keyCode?(R(a),bd(od,!0,!0)):(Td.fullScreen||e.keyboard&&!Td.index)&&(27===a.keyCode?(R(a),Td.cancelFullScreen()):39===a.keyCode||40===a.keyCode&&Td.fullScreen?(R(a),Td.show({index:">",slow:a.altKey,user:!0})):(37===a.keyCode||38===a.keyCode&&Td.fullScreen)&&(R(a),Td.show({index:"<",slow:a.altKey,user:!0})))}),Td.index||yc.off(b).on(b,"textarea, input, select",function(a){!sc.hasClass(bb)&&a.stopPropagation()}),xc.on(d,Td.resize)):(yc.off(c),xc.off(d))}function i(b){b!==i.f&&(b?(a.html("").addClass(ab+" "+Vd).append(_d).before(Zd).before($d),$(Td)):(_d.detach(),Zd.detach(),$d.detach(),a.html(Yd.urtext).removeClass(Vd),_(Td)),g(b),i.f=b)}function j(){kd=Td.data=kd||N(e.data)||B(a),ld=Td.size=kd.length,!jd.ok&&e.shuffle&&M(kd),f(),ue=C(ue),ld&&i(!0)}function r(){var a=2>ld||od;xe.noMove=a||Dd,xe.noSwipe=a||!e.swipe,be.toggleClass(rb,!xe.noMove&&!xe.noSwipe),Hc&&_d.toggleClass(kb,!xe.noSwipe)}function s(a){a===!0&&(a=""),e.autoplay=Math.max(+a||Mc,1.5*Gd)}function v(a){return a?"add":"remove"}function w(){Td.options=e=P(e),Dd="crossfade"===e.transition||"dissolve"===e.transition,xd=e.loop&&(ld>2||Dd),Gd=+e.transitionduration||Kc,Id="rtl"===e.direction;var a={add:[],remove:[]};ld>1?(yd=e.nav,Ad="top"===e.navposition,a.remove.push(Nb),fe.toggle(e.arrows)):(yd=!1,fe.hide()),hc(),nd=new oc(d.extend(pc,e.spinner,qc,{direction:Id?-1:1})),wc(),zc(),e.autoplay&&s(e.autoplay),Ed=m(e.thumbwidth)||Oc,Fd=m(e.thumbheight)||Oc,ye.ok=Ae.ok=e.trackpad&&!Fc,r(),Vc(e,!0),zd="thumbs"===yd,zd?(jc(ld,"navThumb"),md=ke,Sd=Tc,H(Zd,d.Fotorama.jst.style({w:Ed,h:Fd,b:e.thumbborderwidth,m:e.thumbmargin,s:Ud,q:!Cc})),he.addClass(Bb).removeClass(Ab)):"dots"===yd?(jc(ld,"navDot"),md=je,Sd=Sc,he.addClass(Ab).removeClass(Bb)):(yd=!1,he.removeClass(Bb+" "+Ab)),yd&&(Ad?ge.insertBefore(ae):ge.insertAfter(ae),tc.nav=!1,tc(md,ie,"nav")),Bd=e.allowfullscreen,Bd?(oe.appendTo(ae),Cd=Dc&&"native"===Bd):(oe.detach(),Cd=!1),a[v(Dd)].push(gb),a[v(!Dd)].push(hb),a[v(Id)].push(lb),Hd=e.shadows&&!Fc,a[v(!Hd)].push(jb),_d.addClass(a.add.join(" ")).removeClass(a.remove.join(" ")),ve=d.extend({},e)}function x(a){return 0>a?(ld+a%ld)%ld:a>=ld?a%ld:a}function C(a){return h(a,0,ld-1)}function V(a){return xd?x(a):C(a)}function W(a){return a>0||xd?a-1:!1}function Z(a){return ld-1>a||xd?a+1:!1}function Fb(){le.min=xd?-1/0:-p(ld-1,we.w,e.margin,rd),le.max=xd?1/0:-p(0,we.w,e.margin,rd),le.snap=we.w+e.margin}function Gb(){me.min=Math.min(0,we.W-ie.width()),me.max=0,ie.toggleClass(rb,!(ze.noMove=me.min===me.max))}function Hb(a,b,c){if("number"==typeof a){a=new Array(a);var e=!0}return d.each(a,function(a,d){if(e&&(d=a),"number"==typeof d){var f=kd[x(d)];if(f){var g="$"+b+"Frame",h=f[g];c.call(this,a,d,f,h,g,h&&h.data())}}})}function Ib(a,b,c,d){(!Jd||"*"===Jd&&d===wd)&&(a=o(e.width)||o(a)||Pc,b=o(e.height)||o(b)||Qc,Td.resize({width:a,ratio:e.ratio||c||a/b},0,d===wd?!0:"*"))}function Wb(a,b,c,f,g){Hb(a,b,function(a,h,i,j,k,l){function m(a){var b=x(h);Wc(a,{index:b,src:v,frame:kd[b]})}function n(){s.remove(),d.Fotorama.cache[v]="error",i.html&&"stage"===b||!w||w===v?(!v||i.html||q?"stage"===b&&(j.trigger("f:load").removeClass(Sb+" "+Rb).addClass(Tb),m("load"),Ib()):(j.trigger("f:error").removeClass(Sb).addClass(Rb),m("error")),l.state="error",!(ld>1&&kd[h]===i)||i.html||i.deleted||i.video||q||(i.deleted=!0,Td.splice(h,1))):(i[u]=v=w,Wb([h],b,c,f,!0))}function o(){d.Fotorama.measures[v]=t.measures=d.Fotorama.measures[v]||{width:r.width,height:r.height,ratio:r.width/r.height},Ib(t.measures.width,t.measures.height,t.measures.ratio,h),s.off("load error").addClass(Xb+(q?" "+Yb:"")).prependTo(j),G(s,c||we,f||i.fit||e.fit),d.Fotorama.cache[v]=l.state="loaded",setTimeout(function(){j.trigger("f:load").removeClass(Sb+" "+Rb).addClass(Tb+" "+(q?Ub:Vb)),"stage"===b&&m("load")},5)}function p(){var a=10;E(function(){return!Qd||!a--&&!Fc},function(){o()})}if(j){var q=Td.fullScreen&&i.full&&i.full!==i.img&&!l.$full&&"stage"===b;if(!l.$img||g||q){var r=new Image,s=d(r),t=s.data();l[q?"$full":"$img"]=s;var u="stage"===b?q?"full":"img":"thumb",v=i[u],w=q?null:i["stage"===b?"thumb":"img"];if("navThumb"===b&&(j=l.$wrap),!v)return void n();d.Fotorama.cache[v]?!function y(){"error"===d.Fotorama.cache[v]?n():"loaded"===d.Fotorama.cache[v]?setTimeout(p,0):setTimeout(y,100)}():(d.Fotorama.cache[v]="*",s.on("load",p).on("error",n)),l.state="",r.src=v}}})}function bc(a){te.append(nd.spin().el).appendTo(a)}function hc(){te.detach(),nd&&nd.stop()}function ic(){var a=Td.activeFrame[Rc];a&&!a.data().state&&(bc(a),a.on("f:load f:error",function(){a.off("f:load f:error"),hc()}))}function jc(a,b){Hb(a,b,function(a,c,f,g,h,i){g||(g=f[h]=_d[h].clone(),i=g.data(),i.data=f,"stage"===b?(f.html&&d('<div class="'+ac+'"></div>').append(f._html?d(f.html).removeAttr("id").html(f._html):f.html).appendTo(g),e.captions&&f.caption&&d(L(ec,L(fc,f.caption))).appendTo(g),f.video&&g.addClass(ob).append(qe.clone()),ce=ce.add(g)):"navDot"===b?je=je.add(g):"navThumb"===b&&(i.$wrap=g.children(":first"),ke=ke.add(g),f.video&&g.append(qe.clone())))})}function lc(a,b,c){return a&&a.length&&G(a,b,c)}function mc(a){Hb(a,"stage",function(a,b,c,f,g,h){if(f){Ce[Rc][x(b)]=f.css(d.extend({left:Dd?0:p(b,we.w,e.margin,rd)},Dd&&l(0))),D(f[0])&&(f.appendTo(be),bd(c.$video));var i=c.fit||e.fit;lc(h.$img,we,i),lc(h.$full,we,i)}})}function nc(a,b){if("thumbs"===yd&&!isNaN(a)){var c=-a,e=-a+we.w;ke.each(function(){var a=d(this),f=a.data(),g=f.eq,h={h:Fd},i="cover";h.w=f.w,f.l+f.w<c||f.l>e||lc(f.$img,h,i)||b&&Wb([g],"navThumb",h,i)})}}function tc(a,b,c){if(!tc[c]){var f="nav"===c&&zd,g=0;b.append(a.filter(function(){for(var a,b=d(this),c=b.data(),e=0,f=kd.length;f>e;e++)if(c.data===kd[e]){a=!0,c.eq=e;break}return a||b.remove()&&!1}).sort(function(a,b){return d(a).data().eq-d(b).data().eq}).each(function(){if(f){var a=d(this),b=a.data(),c=Math.round(Fd*b.data.thumbratio)||Ed;b.l=g,b.w=c,a.css({width:c}),g+=c+e.thumbmargin}})),tc[c]=!0}}function uc(a){return a-De>we.w/3}function vc(a){return!(xd||ue+a&&ue-ld+a||od)}function wc(){de.toggleClass(ub,vc(0)),ee.toggleClass(ub,vc(1))}function zc(){ye.ok&&(ye.prevent={"<":vc(0),">":vc(1)})}function Ac(a){var b,c,d=a.data();return zd?(b=d.l,c=d.w):(b=a.position().left,c=a.width()),{c:b+c/2,min:-b+10*e.thumbmargin,max:-b+we.w-c-10*e.thumbmargin}}function Ec(a){var b=Td.activeFrame[Sd].data();T(ne,{time:.9*a,pos:b.l,width:b.w-2*e.thumbborderwidth})}function Gc(a){var b=kd[a.guessIndex][Sd];if(b){var c=me.min!==me.max,d=c&&Ac(Td.activeFrame[Sd]),e=c&&(a.keep&&Gc.l?Gc.l:h((a.coo||we.w/2)-Ac(b).c,d.min,d.max)),f=c&&h(e,me.min,me.max),g=.9*a.time;T(ie,{time:g,pos:f||0,onEnd:function(){nc(f,!0)}}),ad(he,I(f,me.min,me.max)),Gc.l=e}}function Ic(){Lc(Sd),Be[Sd].push(Td.activeFrame[Sd].addClass(Mb))}function Lc(a){for(var b=Be[a];b.length;)b.shift().removeClass(Mb)}function Nc(a){var b=Ce[a];d.each(qd,function(a,c){delete b[x(c)]}),d.each(b,function(a,c){delete b[a],c.detach()})}function Uc(a){rd=sd=ue;var b=Td.activeFrame,c=b[Rc];c&&(Lc(Rc),Be[Rc].push(c.addClass(Mb)),a||Td.show.onEnd(!0),t(be,0,!0),Nc(Rc),mc(qd),Fb(),Gb())}function Vc(a,b){a&&d.extend(we,{width:a.width||we.width,height:a.height,minwidth:a.minwidth,maxwidth:a.maxwidth,minheight:a.minheight,maxheight:a.maxheight,ratio:Q(a.ratio)})&&!b&&d.extend(e,{width:we.width,height:we.height,minwidth:we.minwidth,maxwidth:we.maxwidth,minheight:we.minheight,maxheight:we.maxheight,ratio:we.ratio})}function Wc(b,c){a.trigger(ab+":"+b,[Td,c])}function Xc(){clearTimeout(Yc.t),Qd=1,e.stopautoplayontouch?Td.stopAutoplay():Nd=!0}function Yc(){Yc.t=setTimeout(function(){Qd=0},Kc+Jc)}function Zc(){Nd=!(!od&&!Od)}function $c(){if(clearTimeout($c.t),!e.autoplay||Nd)return void(Td.autoplay&&(Td.autoplay=!1,Wc("stopautoplay")));Td.autoplay||(Td.autoplay=!0,Wc("startautoplay"));var a=ue,b=Td.activeFrame[Rc].data();E(function(){return b.state||a!==ue},function(){$c.t=setTimeout(function(){Nd||a!==ue||Td.show(xd?S(!Id):x(ue+(Id?-1:1)))},e.autoplay)})}function _c(){Td.fullScreen&&(Td.fullScreen=!1,Dc&&kc.cancel(Wd),sc.removeClass(bb),rc.removeClass(bb),a.removeClass(Pb).insertAfter($d),we=d.extend({},Pd),bd(od,!0,!0),fd("x",!1),Td.resize(),Wb(qd,"stage"),O(Ld,Kd),Wc("fullscreenexit"))}function ad(a,b){Hd&&(a.removeClass(Kb+" "+Lb),b&&!od&&a.addClass(b.replace(/^|\s/g," "+Jb+"--")))}function bd(a,b,c){b&&(_d.removeClass(fb),od=!1,r()),a&&a!==od&&(a.remove(),Wc("unloadvideo")),c&&(Zc(),$c())}function cd(a){_d.toggleClass(ib,a)}function dd(a){if(!xe.flow){var b=a?a.pageX:dd.x,c=b&&!vc(uc(b))&&e.click;dd.p===c||!Dd&&e.swipe||!ae.toggleClass(sb,c)||(dd.p=c,dd.x=b)}}function ed(a,b){var c=a.target,f=d(c);f.hasClass(cc)?Td.playVideo():c===pe?Td[(Td.fullScreen?"cancel":"request")+"FullScreen"]():od?c===se&&bd(od,!0,!0):b?cd():e.click&&Td.show({index:a.shiftKey||S(uc(a._x)),slow:a.altKey,user:!0})}function fd(a,b){xe[a]=ze[a]=b}function gd(a,b){var c=d(this).data().eq;Td.show({index:c,slow:a.altKey,user:!0,coo:a._x-he.offset().left,time:b})}function hd(){if(j(),w(),!hd.i){hd.i=!0;var a=e.startindex;(a||e.hash&&c.hash)&&(wd=J(a||c.hash.replace(/^#/,""),kd,0===Td.index||a,a)),ue=rd=sd=td=wd=V(wd)||0}if(ld){if(id())return;od&&bd(od,!0),qd=[],Nc(Rc),Td.show({index:ue,time:0}),Td.resize()}else Td.destroy()}function id(){return!id.f===Id?(id.f=Id,ue=ld-1-ue,Td.reverse(),!0):void 0}function jd(){jd.ok||(jd.ok=!0,Wc("ready"))}rc=rc||d("html"),sc=sc||d("body");var kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td=this,Ud=d.now(),Vd=ab+Ud,Wd=a[0],Xd=1,Yd=a.data(),Zd=d("<style></style>"),$d=d(L(Ob)),_d=d(L(cb)),ae=d(L(mb)).appendTo(_d),be=(ae[0],d(L(pb)).appendTo(ae)),ce=d(),de=d(L(tb+" "+vb)),ee=d(L(tb+" "+wb)),fe=de.add(ee).appendTo(ae),ge=d(L(yb)),he=d(L(xb)).appendTo(ge),ie=d(L(zb)).appendTo(he),je=d(),ke=d(),le=be.data(),me=ie.data(),ne=d(L(_b)).appendTo(ie),oe=d(L(Qb)),pe=oe[0],qe=d(L(cc)),re=d(L(dc)).appendTo(ae),se=re[0],te=d(L(gc)),ue=!1,ve={},we={},xe={},ye={},ze={},Ae={},Be={},Ce={},De=0,Ee=[];_d[Rc]=d(L(nb)),_d[Tc]=d(L(Cb+" "+Eb,L($b))),_d[Sc]=d(L(Cb+" "+Db,L(Zb))),Be[Rc]=[],Be[Tc]=[],Be[Sc]=[],Ce[Rc]={},_d.addClass(Bc?eb:db),Yd.fotorama=this,Td.startAutoplay=function(a){return Td.autoplay?this:(Nd=Od=!1,s(a||e.autoplay),$c(),this)},Td.stopAutoplay=function(){return Td.autoplay&&(Nd=Od=!0,$c()),this},Td.show=function(a){var b;"object"!=typeof a?(b=a,a={}):b=a.index,b=">"===b?sd+1:"<"===b?sd-1:"<<"===b?0:">>"===b?ld-1:b,b=isNaN(b)?J(b,kd,!0):b,b="undefined"==typeof b?ue||0:b,Td.activeIndex=ue=V(b),ud=W(ue),vd=Z(ue),qd=[ue,ud,vd],sd=xd?b:ue;var c=Math.abs(td-sd),d=u(a.time,function(){return Math.min(Gd*(1+(c-1)/12),2*Gd)}),f=a.overPos;a.slow&&(d*=10),Td.activeFrame=pd=kd[ue],bd(od,pd.i!==kd[x(rd)].i),jc(qd,"stage"),mc(Fc?[sd]:[sd,W(sd),Z(sd)]),fd("go",!0),Wc("show",{user:a.user,time:d});var g=Td.show.onEnd=function(b){g.ok||(g.ok=!0,ic(),Wb(qd,"stage"),b||Uc(!0),Wc("showend",{user:a.user}),fd("go",!1),zc(),dd(),Zc(),$c())};if(Dd){var i=pd[Rc],j=ue!==td?kd[td][Rc]:null;U(i,j,ce,{time:d,method:e.transition,onEnd:g},Ee)}else T(be,{pos:-p(sd,we.w,e.margin,rd),overPos:f,time:d,onEnd:g,_001:!0});if(wc(),yd){Ic();var k=C(ue+h(sd-td,-1,1));Gc({time:d,coo:k!==ue&&a.coo,guessIndex:"undefined"!=typeof a.coo?k:ue}),zd&&Ec(d)}return Md="undefined"!=typeof td&&td!==ue,td=ue,e.hash&&Md&&!Td.eq&&F(pd.id||ue+1),this},Td.requestFullScreen=function(){return Bd&&!Td.fullScreen&&(Kd=xc.scrollTop(),Ld=xc.scrollLeft(),O(0,0),fd("x",!0),Pd=d.extend({},we),a.addClass(Pb).appendTo(sc.addClass(bb)),rc.addClass(bb),bd(od,!0,!0),Td.fullScreen=!0,Cd&&kc.request(Wd),Td.resize(),Wb(qd,"stage"),ic(),Wc("fullscreenenter")),this},Td.cancelFullScreen=function(){return Cd&&kc.is()?kc.cancel(b):_c(),this},b.addEventListener&&b.addEventListener(kc.event,function(){!kd||kc.is()||od||_c()},!1),Td.resize=function(a){if(!kd)return this;Vc(Td.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:P(a),Td.fullScreen);var b=arguments[1]||0,c=arguments[2],d=we.width,f=we.height,g=we.ratio,i=xc.height()-(yd?he.height():0);return o(d)&&(_d.css({width:d,minWidth:we.minwidth,maxWidth:we.maxwidth}),d=we.W=we.w=_d.width(),e.glimpse&&(we.w-=Math.round(2*(n(e.glimpse)/100*d||m(e.glimpse)||0))),be.css({width:we.w,marginLeft:(we.W-we.w)/2}),f=n(f)/100*i||m(f),f=f||g&&d/g,f&&(d=Math.round(d),f=we.h=Math.round(h(f,n(we.minheight)/100*i||m(we.minheight),n(we.maxheight)/100*i||m(we.maxheight))),Uc(),ae.addClass(qb).stop().animate({width:d,height:f},b,function(){ae.removeClass(qb)}),yd&&(he.stop().animate({width:d},b),Gc({guessIndex:ue,time:b,keep:!0}),zd&&tc.nav&&Ec(b)),Jd=c||!0,jd())),De=ae.offset().left,this},Td.setOptions=function(a){return d.extend(e,a),hd(),this},Td.shuffle=function(){return kd&&M(kd)&&hd(),this},Td.destroy=function(){return Td.cancelFullScreen(),Td.stopAutoplay(),kd=Td.data=null,i(),qd=[],Nc(Rc),this},Td.playVideo=function(){var a=Td.activeFrame,b=a.video,c=ue;return"object"==typeof b&&a.videoReady&&(Cd&&Td.fullScreen&&Td.cancelFullScreen(),E(function(){return!kc.is()||c!==ue},function(){c===ue&&(a.$video=a.$video||d(d.Fotorama.jst.video(b)),a.$video.appendTo(a[Rc]),_d.addClass(fb),od=a.$video,r(),Wc("loadvideo"))})),this},Td.stopVideo=function(){return bd(od,!0,!0),this},ae.on("mousemove",dd),xe=X(be,{onStart:Xc,onMove:function(a,b){ad(ae,b.edge)},onTouchEnd:Yc,onEnd:function(a){ad(ae);var b=(Hc&&!Rd||a.touch)&&e.arrows;if(a.moved||b&&a.pos!==a.newPos){var c=q(a.newPos,we.w,e.margin,rd);Td.show({index:c,time:Dd?Gd:a.time,overPos:a.overPos,user:!0})}else a.aborted||ed(a.startEvent,b)},getPos:function(){return-p(sd,we.w,e.margin,rd)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+Nb+", ."+Nb+" *",$wrap:ae}),ze=X(ie,{onStart:Xc,onMove:function(a,b){ad(he,b.edge)},onTouchEnd:Yc,onEnd:function(a){function b(){Gc.l=a.newPos,Zc(),$c(),nc(a.newPos,!0)}if(a.moved)a.pos!==a.newPos?(T(ie,{time:a.time,pos:a.newPos,overPos:a.overPos,onEnd:b}),nc(a.newPos),Hd&&ad(he,I(a.newPos,me.min,me.max))):b();else{var c=a.$target.closest("."+Cb,ie)[0];c&&gd.call(c,a.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:he}),ye=Y(ae,{shift:!0,onEnd:function(a,b){Xc(),Yc(),Td.show({index:b,slow:a.altKey})}}),Ae=Y(he,{onEnd:function(a,b){Xc(),Yc();var c=t(ie)+.25*b;ie.css(k(h(c,me.min,me.max))),Hd&&ad(he,I(c,me.min,me.max)),Ae.prevent={"<":c>=me.max,">":c<=me.min},clearTimeout(Ae.t),Ae.t=setTimeout(function(){nc(c,!0)},Jc),nc(c)}}),_d.hover(function(){setTimeout(function(){Qd||(Rd=!0,cd(!Rd))},0)},function(){Rd&&(Rd=!1,cd(!Rd))}),K(fe,function(a){R(a),Td.show({index:fe.index(this)?">":"<",slow:a.altKey,user:!0})},{onStart:function(){Xc(),xe.control=!0},onTouchEnd:Yc,tail:xe}),d.each("load push pop shift unshift reverse sort splice".split(" "),function(a,b){Td[b]=function(){return kd=kd||[],"load"!==b?Array.prototype[b].apply(kd,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(kd=N(arguments[0])),hd(),Td}}),hd()},d.fn.fotorama=function(b){return this.each(function(){var c=this,e=d(this),f=e.data(),g=f.fotorama;g?g.setOptions(b):E(function(){return!C(c)},function(){f.urtext=e.html(),new d.Fotorama(e,d.extend({},{width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Nc,glimpse:0,nav:"dots",navposition:"bottom",thumbwidth:Oc,thumbheight:Oc,thumbmargin:Nc,thumbborderwidth:Nc,allowfullscreen:!1,fit:"contain",transition:"slide",transitionduration:Kc,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},a.fotoramaDefaults,b,f))})})},d.Fotorama.instances=[],d.Fotorama.cache={},d.Fotorama.measures={},d=d||{},d.Fotorama=d.Fotorama||{},d.Fotorama.jst=d.Fotorama.jst||{},d.Fotorama.jst.style=function(a){var b,c="";return ic.escape,c+=".fotorama"+(null==(b=a.s)?"":b)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(b=a.m)?"":b)+"px;\nheight:"+(null==(b=a.h)?"":b)+"px}\n.fotorama"+(null==(b=a.s)?"":b)+" .fotorama__thumb-border{\nheight:"+(null==(b=a.h-a.b*(a.q?0:2))?"":b)+"px;\nborder-width:"+(null==(b=a.b)?"":b)+"px;\nmargin-top:"+(null==(b=a.m)?"":b)+"px}"},d.Fotorama.jst.video=function(a){function b(){c+=d.call(arguments,"")}var c="",d=(ic.escape,Array.prototype.join);return c+='<div class="fotorama__video"><iframe src="',b(("youtube"==a.type?"http://youtube.com/embed/"+a.id+"?autoplay=1":"vimeo"==a.type?"http://player.vimeo.com/video/"+a.id+"?autoplay=1&badge=0":a.id)+(a.s&&"custom"!=a.type?"&"+a.s:"")),c+='" frameborder="0" allowfullscreen></iframe></div>'},d(function(){d("."+ab+':not([data-auto="false"])').fotorama()})}(window,document,location,window.jQuery),function(a){var b=function(b,c,d,e){if(a(b).length>0){var f=a(b).offset().top;c=e?c:0,a("html:not(:animated),body:not(:animated)").animate({scrollTop:f-d},c)}},c=function(){return window.location.hash},d={classes:{loading:"sn-loading",failed:"sn-failed",success:"sn-active"},defaults:{sections:"h2",subSections:!1,sectionElem:"section",showHeadline:!0,headlineText:"Scroll To",showTopLink:!0,topLinkText:"Top",fixedMargin:40,scrollOffset:40,animated:!0,speed:500,insertLocation:"insertBefore",arrowKeys:!1,onInit:null,onRender:null,onDestroy:null},_set_body_class:function(b){var c=a("body");"loading"===b?c.addClass(d.classes.loading):c.removeClass(d.classes.loading).addClass("success"===b?d.classes.success:d.classes.failed)},_find_sections:function(b){var c=d.settings.sections,e=[];if(d.settings.showTopLink){var f=b.children().first();f.is(c)||e.push(f.nextUntil(c).andSelf())}b.find(c).each(function(){e.push(a(this).nextUntil(c).andSelf())}),d.sections={raw:e}},_setup_sections:function(b){var c=[];a(b).each(function(b){var e=[],f=a(this),g="scrollNav-"+(b+1),h=function(){return 0===b},i=function(){return!f.eq(0).is(d.settings.sections)},j=d.settings.showTopLink&&h()&&i()?d.settings.topLinkText:f.filter(d.settings.sections).text();if(f.wrapAll("<"+d.settings.sectionElem+' id="'+g+'" class="scroll-nav__section" />'),d.settings.subSections){var k=f.filter(d.settings.subSections);k.length>0&&k.each(function(b){var c=g+"-"+(b+1),d=a(this).text(),h=f.filter(a(this).nextUntil(k).andSelf());h.wrapAll('<div id="'+c+'" class="scroll-nav__sub-section" />'),e.push({id:c,text:d})})}c.push({id:g,text:j,sub_sections:e})}),d.sections.data=c},_tear_down_sections:function(b){a(b).each(function(){var b=this.sub_sections;a("#"+this.id).children().unwrap(),b.length>0&&a(b).each(function(){a("#"+this.id).children().unwrap()})})},_setup_nav:function(b){var c=a("<span />",{"class":"scroll-nav__heading",text:d.settings.headlineText}),e=a("<div />",{"class":"scroll-nav__wrapper"}),f=a("<nav />",{"class":"scroll-nav",role:"navigation"}),g=a("<ol />",{"class":"scroll-nav__list"});a.each(b,function(b){var c,d=0===b?a("<li />",{"class":"scroll-nav__item active"}):a("<li />",{"class":"scroll-nav__item"}),e=a("<a />",{href:"#"+this.id,"class":"scroll-nav__link",text:this.text});this.sub_sections.length>0&&(d.addClass("is-parent-item"),c=a("<ol />",{"class":"scroll-nav__sub-list"}),a.each(this.sub_sections,function(){var b=a("<li />",{"class":"scroll-nav__sub-item"}),d=a("<a />",{href:"#"+this.id,"class":"scroll-nav__sub-link",text:this.text});c.append(b.append(d))})),g.append(d.append(e).append(c))}),f.append(d.settings.showHeadline?e.append(c).append(g):e.append(g)),d.nav=f},_insert_nav:function(){var a=d.settings.insertLocation,b=d.settings.insertTarget;d.nav[a](b)},_setup_pos:function(){var b=d.nav,c=a(window).height(),e=b.offset().top;a.each(d.sections.data,function(){var b=a("#"+this.id),c=b.height();this.top_offset=b.offset().top,this.bottom_offset=this.top_offset+c}),d.dims={vp_height:c,nav_offset:e}},_check_pos:function(){var b=d.nav,c=a(window).scrollTop(),e=c+d.settings.scrollOffset,f=c+d.dims.vp_height-d.settings.scrollOffset,g=[];c>d.dims.nav_offset-d.settings.fixedMargin?b.addClass("fixed"):b.removeClass("fixed"),a.each(d.sections.data,function(){(this.top_offset>e&&f>this.top_offset||this.bottom_offset>e&&f>this.bottom_offset||e>this.top_offset&&this.bottom_offset>f)&&g.push(this)}),b.find(".scroll-nav__item").removeClass("active").removeClass("in-view"),a.each(g,function(a){0===a?b.find('a[href="#'+this.id+'"]').parents(".scroll-nav__item").addClass("active").addClass("in-view"):b.find('a[href="#'+this.id+'"]').parents(".scroll-nav__item").addClass("in-view"),a++,d.sections.active=g})},_init_scroll_listener:function(){a(window).on("scroll",function(){d._check_pos()})},_rm_scroll_listeners:function(){a(window).off("scroll")},_init_resize_listener:function(){a(window).on("resize",function(){d._setup_pos(),d._check_pos()})},_rm_resize_listener:function(){a(window).off("resize")},_init_click_listener:function(){a(".scroll-nav").find("a").click(function(c){c.preventDefault();var e=a(this).attr("href"),f=d.settings.speed,g=d.settings.scrollOffset,h=d.settings.animated;b(e,f,g,h)})},_init_keyboard_listener:function(c){d.settings.arrowKeys&&a(document).on("keydown",function(a){if(40===a.keyCode||38===a.keyCode){var e=function(a){var b=0,e=c.length;for(b;e>b;b++)if(c[b].id===d.sections.active[0].id){var f=40===a?b+1:b-1,g=void 0===c[f]?void 0:c[f].id;return g}},f=e(a.keyCode);if(void 0!==f){a.preventDefault();var g="#"+f,h=d.settings.speed,i=d.settings.scrollOffset,j=d.settings.animated;b(g,h,i,j)}}})},_rm_keyboard_listener:function(){a(document).off("keydown")},init:function(e){return this.each(function(){var f=a(this);d.settings=a.extend({},d.defaults,e),d.settings.insertTarget=d.settings.insertTarget?a(d.settings.insertTarget):f,f.length>0?(d.settings.onInit&&d.settings.onInit.call(this),d._set_body_class("loading"),d._find_sections(f),f.find(d.settings.sections).length>0?(d._setup_sections(d.sections.raw),d._setup_nav(d.sections.data),d.settings.insertTarget.length>0?(d._insert_nav(),d._setup_pos(),d._check_pos(),d._init_scroll_listener(),d._init_resize_listener(),d._init_click_listener(),d._init_keyboard_listener(d.sections.data),d._set_body_class("success"),b(c()),d.settings.onRender&&d.settings.onRender.call(this)):(console.log('Build failed, scrollNav could not find "'+d.settings.insertTarget+'"'),d._set_body_class("failed"))):(console.log('Build failed, scrollNav could not find any "'+d.settings.sections+'s" inside of "'+f.selector+'"'),d._set_body_class("failed"))):(console.log('Build failed, scrollNav could not find "'+f.selector+'"'),d._set_body_class("failed"))})},destroy:function(){return this.each(function(){d._rm_scroll_listeners(),d._rm_resize_listener(),d._rm_keyboard_listener(),a("body").removeClass("sn-loading sn-active sn-failed"),a(".scroll-nav").remove(),d._tear_down_sections(d.sections.data),d.settings.onDestroy&&d.settings.onDestroy.call(this),d.settings=[],d.sections=void 0})}};a.fn.scrollNav=function(){var b,c=arguments[0];if(d[c])c=d[c],b=Array.prototype.slice.call(arguments,1);else{if("object"!=typeof c&&c)return a.error("Method "+c+" does not exist in the scrollNav plugin"),this;c=d.init,b=arguments}return c.apply(this,b)}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b,c,d;d=function(a,b){return function(){return a.apply(b,arguments)}},c={align:"center",autoResize:!1,comparator:null,container:a("body"),ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,direction:void 0,offset:2,onLayoutChanged:void 0,outerOffset:0,resizeDelay:50,possibleFilters:[]},b=function(){function b(b,e){this.handler=b,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],a.extend(!0,this,c,e),this.update=d(this.update,this),this.onResize=d(this.onResize,this),this.onRefresh=d(this.onRefresh,this),this.getItemWidth=d(this.getItemWidth,this),this.layout=d(this.layout,this),this.layoutFull=d(this.layoutFull,this),this.layoutColumns=d(this.layoutColumns,this),this.filter=d(this.filter,this),this.clear=d(this.clear,this),this.getActiveItems=d(this.getActiveItems,this),this.refreshPlaceholders=d(this.refreshPlaceholders,this),this.sortElements=d(this.sortElements,this);for(var f,g,h,i=0,j=0,k=0,l={};b.length>i;i++)if(g=b.eq(i),f=g.data("filterClass"),"object"==typeof f&&f.length>0)for(j=0;f.length>j;j++)h=a.trim(f[j]).toLowerCase(),h in l||(l[h]=[]),l[h].push(g[0]);for(var m=this.possibleFilters;m.length>k;k++){var n=a.trim(m[k]).toLowerCase();n in l||(l[n]=[])}this.filterClasses=l,this.autoResize&&a(window).bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return b.prototype.update=function(b){this.itemHeightsDirty=!0,a.extend(!0,this,b)},b.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},b.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},b.prototype.filter=function(b,c){var d,e,f,g,h,i=[],j=a();if(b=b||[],c=c||"or",b.length){for(e=0;b.length>e;e++)h=a.trim(b[e].toLowerCase()),h in this.filterClasses&&i.push(this.filterClasses[h]);if(d=i.length,"or"==c||1==d)for(e=0;d>e;e++)j=j.add(i[e]);else if("and"==c){var k,l,m,n=i[0],o=!0;for(e=1;d>e;e++)i[e].length<n.length&&(n=i[e]);for(n=n||[],e=0;n.length>e;e++){for(l=n[e],o=!0,f=0;i.length>f&&o;f++)if(m=i[f],n!=m){for(g=0,k=!1;m.length>g&&!k;g++)k=m[g]==l;o&=k}o&&j.push(n[e])}}this.handler.not(j).addClass("inactive")}else j=this.handler;j.removeClass("inactive"),this.columns=null,this.layout()
},b.prototype.refreshPlaceholders=function(b,c){for(var d,e,f,g,h,i,j=this.placeholders.length,k=this.columns.length,l=this.container.innerHeight();k>j;j++)d=a('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(d);for(i=this.offset+2*parseInt(this.placeholders[0].css("borderWidth"),10),j=0;this.placeholders.length>j;j++)if(d=this.placeholders[j],f=this.columns[j],j>=k||!f[f.length-1])d.css("display","none");else{if(e=f[f.length-1],!e)continue;h=e.data("wookmark-top")+e.data("wookmark-height")+this.offset,g=l-h-i,d.css({position:"absolute",display:g>0?"block":"none",left:j*b+c,top:h,width:b-i,height:g})}},b.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},b.prototype.getItemWidth=function(){var a=this.itemWidth,b=this.container.width()-2*this.outerOffset,c=this.handler.eq(0),d=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?a=c.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(a=parseFloat(this.itemWidth)/100*b),d){"string"==typeof d&&d.indexOf("%")>=0&&(d=parseFloat(d)/100*b);var e=~~(.5+(b+this.offset)/(d+this.offset)),f=Math.min(d,~~((b-(e-1)*this.offset)/e));a=Math.max(a,f),this.handler.css("width",a)}return a},b.prototype.layout=function(a){if(this.container.is(":visible")){var b,c=this.getItemWidth()+this.offset,d=this.container.width(),e=d-2*this.outerOffset,f=~~((e+this.offset)/c),g=0,h=0,i=0,j=this.getActiveItems(),k=j.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;k>i;i++)b=j.eq(i),b.data("wookmark-height",b.outerHeight());this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}f=Math.max(1,Math.min(f,k)),g=this.outerOffset,"center"==this.align&&(g+=~~(.5+(e-(f*c-this.offset))>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),h=a||null===this.columns||this.columns.length!=f||this.activeItemCount!=k?this.layoutFull(c,f,g):this.layoutColumns(c,g),this.activeItemCount=k,this.container.css("height",h),this.fillEmptySpace&&this.refreshPlaceholders(c,g),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},b.prototype.sortElements=function(a){return"function"==typeof this.comparator?a.sort(this.comparator):a},b.prototype.layoutFull=function(b,c,d){var e,f,g=0,h=0,i=a.makeArray(this.getActiveItems()),j=i.length,k=null,l=null,m={position:"absolute"},n=[],o="left"==this.align?!0:!1;for(this.columns=[],i=this.sortElements(i);c>n.length;)n.push(this.outerOffset),this.columns.push([]);for(;j>g;g++){for(e=a(i[g]),k=n[0],l=0,h=0;c>h;h++)k>n[h]&&(k=n[h],l=h);f=d,(l>0||!o)&&(f+=l*b),m[this.direction]=f,m.top=k,e.css(m).data("wookmark-top",k),n[l]+=e.data("wookmark-height")+this.offset,this.columns[l].push(e)}return Math.max.apply(Math,n)},b.prototype.layoutColumns=function(a,b){for(var c,d,e,f,g,h=[],i=0,j=0;this.columns.length>i;i++){for(h.push(this.outerOffset),d=this.columns[i],g=i*a+b,c=h[i],j=0;d.length>j;j++)e=d[j],f={top:c},f[this.direction]=g,e.css(f).data("wookmark-top",c),c+=e.data("wookmark-height")+this.offset;h[i]=c}return Math.max.apply(Math,h)},b.prototype.clear=function(){clearTimeout(this.resizeTimer),a(window).unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh)},b}(),a.fn.wookmark=function(a){return this.wookmarkInstance?this.wookmarkInstance.update(a||{}):this.wookmarkInstance=new b(this,a||{}),this.wookmarkInstance.layout(!0),this.show()}}),function(){"use strict";function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}var c=a.prototype;c.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},c.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c},c.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},c.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},c.on=c.addListener,c.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},c.once=c.addOnceListener,c.defineEvent=function(a){return this.getListeners(a),this},c.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this},c.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},c.off=c.removeListener,c.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},c.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},c.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},c.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},c.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],f=c.listener.apply(this,b||[]),(f===this._getOnceReturnValue()||c.once===!0)&&this.removeListener(a,g[e][d].listener);return this},c.trigger=c.emitEvent,c.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},c.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},c._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},c._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){"use strict";var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(b,c,d){b[c+d]=d.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement,d.handleEvent.call(d,b)}:function(){var c=a.event;c.target=c.target||c.srcElement,d.call(b,c)},b.attachEvent("on"+c,b[c+d])});var d=function(){};b.removeEventListener?d=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(d=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var e={bind:c,unbind:d};"function"==typeof define&&define.amd?define(e):a.eventie=e}(this),function(a){"use strict";function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){return"[object Array]"===i.call(a)}function d(a){var b=[];if(c(a))b=a;else if("number"==typeof a.length)for(var d=0,e=a.length;e>d;d++)b.push(a[d]);else b.push(a);return b}function e(a,c){function e(a,c,g){if(!(this instanceof e))return new e(a,c);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=d(a),this.options=b({},this.options),"function"==typeof c?g=c:b(this.options,c),g&&this.on("always",g),this.getImages(),f&&(this.jqDeferred=new f.Deferred);var h=this;setTimeout(function(){h.check()})}function i(a){this.img=a}e.prototype=new a,e.prototype.options={},e.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var d=c.querySelectorAll("img"),e=0,f=d.length;f>e;e++){var g=d[e];this.addImage(g)}}},e.prototype.addImage=function(a){var b=new i(a);this.images.push(b)},e.prototype.check=function(){function a(a,e){return b.options.debug&&h&&g.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",a),f.check()}},e.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify(b,a)})},e.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},f&&(f.fn.imagesLoaded=function(a,b){var c=new e(this,a,b);return c.jqDeferred.promise(f(this))});var j={};return i.prototype=new a,i.prototype.check=function(){var a=j[this.img.src];if(a)return void this.useCached(a);if(j[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this.proxyImage=new Image;c.bind(b,"load",this),c.bind(b,"error",this),b.src=this.img.src},i.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var b=this;a.on("confirm",function(a){return b.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},i.prototype.unbindProxyEvents=function(){c.unbind(this.proxyImage,"load",this),c.unbind(this.proxyImage,"error",this)},e}var f=a.jQuery,g=a.console,h=void 0!==g,i=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],e):a.imagesLoaded=e(a.EventEmitter,a.eventie)}(window),function(a){a.fn.slabText=function(b){var c={fontRatio:.78,forceNewCharCount:!0,wrapAmpersand:!0,headerBreakpoint:null,viewportBreakpoint:null,noResizeEvent:!1,resizeThrottleTime:300,maxFontSize:999,postTweak:!0,precision:3,minCharsPerLine:0};return a("body").addClass("slabtexted"),this.each(function(){b&&a.extend(c,b);var d=a(this),e=a("span.slabtext",d).length,f=e?[]:String(a.trim(d.text())).replace(/\s{2,}/g," ").split(" "),g=null,h=null,i=c.fontRatio,j=c.forceNewCharCount,k=c.headerBreakpoint,l=c.viewportBreakpoint,m=c.postTweak,n=c.precision,o=c.resizeThrottleTime,p=c.minCharsPerLine,q=null,r=a(window).width(),s=d.find("a:first").attr("href")||d.attr("href"),t=s?d.find("a:first").attr("title"):"";if(!(!e&&p&&f.join(" ").length<p)){var u=function(){var a=jQuery('<div style="display:none;font-size:1em;margin:0;padding:0;height:auto;line-height:1;border:0;">&nbsp;</div>').appendTo(d),b=a.height();return a.remove(),b},v=function(){var b,o=d.width();if(0!==o){if(d.removeClass("slabtextdone slabtextinactive"),l&&l>r||k&&k>o)return void d.addClass("slabtextinactive");if(b=u(),e||!j&&b==g)g=b;else{g=b;var q,v,w,x=Math.min(60,Math.floor(o/(g*i))),y=0,z=[],A="",B="",C="";if(x!=h){for(h=x;y<f.length;){for(B="";B.length<h&&(A=B,B+=f[y]+" ",!(++y>=f.length)););p&&(q=f.slice(y).join(" "),q.length<p&&(B+=q,A=B,y=f.length+2)),v=h-A.length,w=B.length-h,w>v&&A.length>=(p||2)?(C=A,y--):C=B,C=a("<div/>").text(C).html(),c.wrapAmpersand&&(C=C.replace(/&amp;/g,'<span class="amp">&amp;</span>')),C=a.trim(C),z.push('<span class="slabtext">'+C+"</span>")}d.html(z.join(" ")),s&&d.wrapInner('<a href="'+s+'" '+(t?'title="'+t+'" ':"")+"/>")}}a("span.slabtext",d).each(function(){var b,d,e,f=a(this),h=f.text(),i=h.split(" ").length>1;m&&f.css({"word-spacing":0,"letter-spacing":0}),d=o/f.width(),e=parseFloat(this.style.fontSize)||g,f.css("font-size",Math.min((e*d).toFixed(n),c.maxFontSize)+"px"),b=m?o-f.width():!1,b&&f.css((i?"word":"letter")+"-spacing",(b/(i?h.split(" ").length-1:h.length)).toFixed(n)+"px")}),d.addClass("slabtextdone")}};v(),c.noResizeEvent||a(window).resize(function(){a(window).width()!=r&&(r=a(window).width(),clearTimeout(q),q=setTimeout(v,o))})}})}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){a.fn.parallax=function(b){var c=a(window).height(),d=a.extend({speed:.1},b);return this.each(function(){var b=a(this);a(document).scroll(function(){var e=a(window).scrollTop(),f=b.offset().top,g=b.parent().outerHeight();if(!(e>=f+g||f>=e+c)){var h=Math.round((f-e)*d.speed);b.css({transform:"translate3d(0px,"+h+"px, 0px)"})}})})}}(jQuery),function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="photosetGrid",g={width:"100%",gutter:"0px",highresLinks:!1,lowresWidth:500,rel:"",onInit:function(){},onComplete:function(){}};e.prototype={init:function(){this.options.onInit(),this._setupRows(this.element,this.options),this._setupColumns(this.element,this.options)},_callback:function(a){this.options.onComplete(a)},_setupRows:function(b,c){if(c.layout)this.layout=c.layout;else if(a(b).attr("data-layout"))this.layout=a(b).attr("data-layout");else{for(var d="",e=1,f=0;f<a(b).find("img").length;f++)d+=e.toString();this.layout=d}this.rows=this.layout.split("");for(var g in this.rows)this.rows[g]=parseInt(this.rows[g],10);var h=a(b).find("img"),i=0;a.each(this.rows,function(a,b){var c=i,d=i+b;h.slice(c,d).wrapAll('<div class="photoset-row cols-'+b+'"></div>'),i=d}),a(b).find(".photoset-row:not(:last-child)").css({"margin-bottom":c.gutter})},_setupColumns:function(c,d){var e=this,f=function(e){function f(){var b=a(c).width().toString();b!==a(c).attr("data-width")&&(g.each(function(){var b=a(this).find("img:eq(0)");a(this).find("img").each(function(){var c=a(this);c.attr("height")<b.attr("height")&&(b=a(this)),parseInt(c.css("width"),10)>d.lowresWidth&&c.attr("data-highres")&&c.attr("src",c.attr("data-highres"))});var c=b.attr("height")*parseInt(b.css("width"),10)/b.attr("width"),e=Math.floor(.025*c);a(this).height(c-e),a(this).find("img").each(function(){var b=a(this).attr("height")*parseInt(a(this).css("width"),10)/a(this).attr("width"),d=.5*(c-b)+"px";a(this).css({"margin-top":d})})}),a(c).attr("data-width",b))}var g=a(c).find(".photoset-row"),h=a(c).find("img");d.highresLinks?(h.each(function(){var b;b=a(this).attr(a(this).attr("data-highres")?"data-highres":"src"),a(this).wrapAll('<a href="'+b+'" class="photoset-cell highres-link" />')}),d.rel&&h.parent().attr("rel",d.rel)):h.each(function(){a(this).wrapAll('<div class="photoset-cell" />')});var i=a(c).find(".photoset-cell"),j=a(c).find(".cols-1 .photoset-cell"),k=a(c).find(".cols-2 .photoset-cell"),l=a(c).find(".cols-3 .photoset-cell"),m=a(c).find(".cols-4 .photoset-cell"),n=a(c).find(".cols-5 .photoset-cell");a(c).css({width:d.width}),g.css({clear:"left",display:"block",overflow:"hidden"}),i.css({"float":"left",display:"block","line-height":"0","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),h.css({width:"100%",height:"auto"}),e&&h.each(function(){a(this).attr("height",a(this).height()),a(this).attr("width",a(this).width())}),j.css({width:"100%"}),k.css({width:"50%"}),l.css({width:"33.3%"}),m.css({width:"25%"}),n.css({width:"20%"});var o=parseInt(d.gutter,10);a(c).find(".photoset-cell:not(:last-child)").css({"padding-right":o/2+"px"}),a(c).find(".photoset-cell:not(:first-child)").css({"padding-left":o/2+"px"}),f(),a(b).on("resize",function(){f()})},g=!0,h=!0;a(c).find("img").each(function(){h&=!!a(this).attr("height")&!!a(this).attr("width")}),g=!h,g?a(c).imagesLoaded(function(){f(g),e._callback(c)}):(f(g),e._callback(c))}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})};var h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(b){function c(){var c=a(m),d=a(n);i&&(n.length?i.reject(k,c,d):i.resolve(k)),a.isFunction(b)&&b.call(g,k,c,d)}function e(a){f(a.target,"error"===a.type)}function f(b,d){b.src!==h&&-1===a.inArray(b,l)&&(l.push(b),d?n.push(b):m.push(b),a.data(b,"imagesLoaded",{isBroken:d,src:b.src}),j&&i.notifyWith(a(b),[d,k,a(m),a(n)]),k.length===l.length&&(setTimeout(c),k.unbind(".imagesLoaded",e)))}var g=this,i=a.isFunction(a.Deferred)?a.Deferred():0,j=a.isFunction(i.notify),k=g.find("img").add(g.filter("img")),l=[],m=[],n=[];return a.isPlainObject(b)&&a.each(b,function(a,c){"callback"===a?b=c:i&&i[a](c)}),k.length?k.bind("load.imagesLoaded error.imagesLoaded",e).each(function(b,c){var e=c.src,g=a.data(c,"imagesLoaded");return g&&g.src===e?void f(c,g.isBroken):c.complete&&c.naturalWidth!==d?void f(c,0===c.naturalWidth||0===c.naturalHeight):void((c.readyState||c.complete)&&(c.src=h,c.src=e))}):c(),i?i.promise(g):g};var i,j,k,l=a.event,m={_:0},n=0;i=l.special.throttledresize={setup:function(){a(this).on("resize",i.handler)},teardown:function(){a(this).off("resize",i.handler)},handler:function(b,c){var d=this,e=arguments;j=!0,k||(setInterval(function(){n++,(n>i.threshold&&j||c)&&(b.type="throttledresize",l.dispatch.apply(d,e),j=!1,n=0),n>9&&(a(m).stop(),k=!1,n=0)},30),k=!0)},threshold:0}}(jQuery,window,document),function(a,b,c){function d(a,b,c){for(var e,f=0;e=a[f];f++)g.matchesSelector(e,b.selector)&&-1==b.firedElems.indexOf(e)&&(b.firedElems.push(e),c.push({callback:b.callback,elem:e})),0<e.childNodes.length&&d(e.childNodes,b,c)}function e(a){for(var b,c=0;b=a[c];c++)b.callback.call(b.elem)}function f(a){a.arrive=i.bindEvent,g.addMethod(a,"unbindArrive",i.unbindEvent),g.addMethod(a,"unbindArrive",i.unbindEventWithSelectorOrCallback),g.addMethod(a,"unbindArrive",i.unbindEventWithSelectorAndCallback),a.leave=j.bindEvent,g.addMethod(a,"unbindLeave",j.unbindEvent),g.addMethod(a,"unbindLeave",j.unbindEventWithSelectorOrCallback),g.addMethod(a,"unbindLeave",j.unbindEventWithSelectorAndCallback)}var g=function(){var a=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(b,c){return b instanceof HTMLElement&&a.call(b,c)},addMethod:function(a,b,c){var d=a[b];a[b]=function(){return c.length==arguments.length?c.apply(this,arguments):"function"==typeof d?d.apply(this,arguments):void 0}}}}(),h=function(){var a=function(){this._eventsBucket=[],this._beforeRemoving=this._beforeAdding=null};return a.prototype.addEvent=function(a,b,c,d){return a={target:a,selector:b,options:c,callback:d,firedElems:[]},this._beforeAdding&&this._beforeAdding(a),this._eventsBucket.push(a),a},a.prototype.removeEvent=function(a){for(var b,c=this._eventsBucket.length-1;b=this._eventsBucket[c];c--)a(b)&&(this._beforeRemoving&&this._beforeRemoving(b),this._eventsBucket.splice(c,1))},a.prototype.beforeAdding=function(a){this._beforeAdding=a},a.prototype.beforeRemoving=function(a){this._beforeRemoving=a},a}();c=function(b,c,d){function e(a){return"number"!=typeof a.length&&(a=[a]),a}var f=new h;return f.beforeAdding(function(c){var e,f=c.target;(f===a.document||f===a)&&(f=document.getElementsByTagName("html")[0]),e=new MutationObserver(function(a){d.call(this,a,c)});var g=b(c.options);e.observe(f,g),c.observer=e}),f.beforeRemoving(function(a){a.observer.disconnect()}),this.bindEvent=function(a,b,d){"undefined"==typeof d&&(d=b,b=c);for(var g=e(this),h=0;h<g.length;h++)f.addEvent(g[h],a,b,d)},this.unbindEvent=function(){var a=e(this);f.removeEvent(function(b){for(var c=0;c<a.length;c++)if(b.target===a[c])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(a){var b=e(this);f.removeEvent("function"==typeof a?function(c){for(var d=0;d<b.length;d++)if(c.target===b[d]&&c.callback===a)return!0;return!1}:function(c){for(var d=0;d<b.length;d++)if(c.target===b[d]&&c.selector===a)return!0;return!1})},this.unbindEventWithSelectorAndCallback=function(a,b){var c=e(this);f.removeEvent(function(d){for(var e=0;e<c.length;e++)if(d.target===c[e]&&d.selector===a&&d.callback===b)return!0;return!1})},this};var i=new c(function(a){var b={attributes:!1,childList:!0,subtree:!0};return a.fireOnAttributesModification&&(b.attributes=!0),b},{fireOnAttributesModification:!1},function(a,b){a.forEach(function(a){var c=a.addedNodes,f=a.target,h=[];null!==c&&0<c.length?d(c,b,h):"attributes"===a.type&&g.matchesSelector(f,b.selector)&&-1==b.firedElems.indexOf(f)&&(b.firedElems.push(f),h.push({callback:b.callback,elem:f})),e(h)})}),j=new c(function(){return{childList:!0,subtree:!0}},{},function(a,b){a.forEach(function(a){a=a.removedNodes;var c=[];null!==a&&0<a.length&&d(a,b,c),e(c)})});b&&f(b.fn),f(HTMLElement.prototype),f(NodeList.prototype),f(HTMLCollection.prototype),f(HTMLDocument.prototype),f(Window.prototype)}(this,"undefined"==typeof jQuery?null:jQuery),jQuery(document).ready(function(){jQuery(".aesop-lightbox").swipebox(),jQuery(".aesop-video-container").fitVids(),jQuery(function(){jQuery(document.body).on("click touchend","#swipebox-slider .current img",function(){return!1}).on("click touchend","#swipebox-slider .current",function(){jQuery("#swipebox-close").trigger("click")})})});
//# sourceMappingURL=ai-core.js.map