jQuery(document).ready(function(a){a(".aesop-generator").dropkick({change:function(){var b=a("#aesop-generator-select").find(":selected").val();jQuery("#aesop-generator-settings").html(""),a("#aesop-generator-settings").html(aesopshortcodes[b])}}),a("#aesop-generator-insert,.aesop-generator").live("click",function(){var b=a(".aesop-generator").find(":selected").val(),c=a("#aesop-compatibility-mode-prefix").val();return a("#aesop-generator-result").val("["+c+b),a("#aesop-generator-settings .aesop-generator-attr").each(function(){""!==a(this).val()&&a("#aesop-generator-result").val(a("#aesop-generator-result").val()+" "+a(this).attr("name")+'="'+a(this).val()+'"')}),a("#aesop-generator-result").val(a("#aesop-generator-result").val()+"]"),"false"!=a("#aesop-generator-content").val()&&a("#aesop-generator-result").val(a("#aesop-generator-result").val()+a("#aesop-generator-content").val()+"[/"+c+b+"]"),window.send_to_editor(jQuery("#aesop-generator-result").val()),!1})});var file_frame;jQuery("#aesop-upload-img").live("click",function(a){return a.preventDefault(),file_frame?void file_frame.open():(file_frame=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),file_frame.on("select",function(){attachment=file_frame.state().get("selection").first().toJSON(),jQuery("#aesop-generator-attr-img,#aesop-generator-attr-src, #aesop-generator-attr-hosted").val(attachment.url)}),void file_frame.open())}),function(a,b,c){function d(a,b){var c,d,g=a.keyCode,j=(b.data("dropkick"),b.find(".dk_options")),k=b.hasClass("dk_open"),l=b.find(".dk_option_current"),m=j.find("li").first(),n=j.find("li").last();switch(g){case o.enter:k?(e(l.find("a"),b),h(b)):i(b),a.preventDefault();break;case o.up:d=l.prev("li"),k?d.length?f(d,b):f(n,b):i(b),a.preventDefault();break;case o.down:k?(c=l.next("li").first(),c.length?f(c,b):f(m,b)):i(b),a.preventDefault()}}function e(a,b,c){var d,e,f;d=a.attr("data-dk-dropdown-value"),e=a.text(),f=b.data("dropkick"),$select=f.$select,$select.val(d),b.find(".dk_label").text(e),c=c||!1,f.settings.change&&!c&&f.settings.change.call($select,d,e)}function f(a,b){b.find(".dk_option_current").removeClass("dk_option_current"),a.addClass("dk_option_current"),g(b,a)}function g(a,b){var c=b.prevAll("li").outerHeight()*b.prevAll("li").length;a.find(".dk_options_inner").animate({scrollTop:c+"px"},0)}function h(a){a.removeClass("dk_open")}function i(a){a.data("dropkick");a.find(".dk_options").css({top:a.find(".dk_toggle").outerHeight()-1}),a.toggleClass("dk_open")}function j(b,c){var d,e=b,f=[];if(e=e.replace("{{ id }}",c.id),e=e.replace("{{ label }}",c.label),e=e.replace("{{ tabindex }}",c.tabindex),c.options&&c.options.length)for(var g=0,h=c.options.length;h>g;g++){var i=a(c.options[g]),j="dk_option_current",l=q;l=l.replace("{{ classvalue }}",i.val()),l=l.replace("{{ value }}",i.val()),l=l.replace("{{ current }}",k(i.val())===c.value?j:""),l=l.replace("{{ text }}",i.text()),f[f.length]=l}return d=a(e),d.find(".dk_options_inner").html(f.join("")),d}function k(b){return a.trim(b).length>0?b:!1}var l=!1;a.browser.msie&&a.browser.version.substr(0,1)<7?l=!0:c.documentElement.className=c.documentElement.className+" dk_fouc";var m={},n=[],o={left:37,up:38,right:39,down:40,enter:13},p=['<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}">','<a class="dk_toggle">','<span class="dk_label">{{ label }}</span>',"</a>",'<div class="dk_options">','<ul class="dk_options_inner">',"</ul>","</div>","</div>"].join(""),q='<li class="{{ current }} {{ classvalue }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>',r={startSpeed:1e3,theme:!1,change:!1};m.init=function(b){return b=a.extend({},r,b),this.each(function(){var c,d=a(this),e=d.find(":selected").first(),f=d.find("option"),g=d.data("dropkick")||{},h=d.attr("id")||d.attr("name"),i=b.width||d.outerWidth(),l=d.attr("tabindex")?d.attr("tabindex"):"",m=!1;return g.id?d:(g.settings=b,g.tabindex=l,g.id=h,g.$original=e,g.$select=d,g.value=k(d.val())||k(e.attr("value")),g.label=e.text(),g.options=f,m=j(p,g),m.find(".dk_toggle").css({width:i+"px"}),d.before(m),m=a("#dk_container_"+h).fadeIn(b.startSpeed),c=b.theme?b.theme:"default",m.addClass("dk_theme_"+c),g.theme=c,g.$dk=m,d.data("dropkick",g),m.data("dropkick",g),n[n.length]=d,m.bind("focus.dropkick",function(){m.addClass("dk_focus")}).bind("blur.dropkick",function(){m.removeClass("dk_open dk_focus")}),void setTimeout(function(){d.hide()},0))})},m.theme=function(b){var c=a(this),d=c.data("dropkick"),e=d.$dk,f="dk_theme_"+d.theme;e.removeClass(f).addClass("dk_theme_"+b),d.theme=b},m.reset=function(){for(var a=0,b=n.length;b>a;a++){var c=n[a].data("dropkick"),d=c.$dk,g=d.find("li").first();d.find(".dk_label").text(c.label),d.find(".dk_options_inner").animate({scrollTop:0},0),f(g,d),e(g,d,!0)}},a.fn.dropkick=function(a){if(!l){if(m[a])return m[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof a||!a)return m.init.apply(this,arguments)}},a(function(){a(".dk_toggle").live("click",function(c){var d=a(this).parents(".dk_container").first();return i(d),"ontouchstart"in b&&(d.addClass("dk_touch"),d.find(".dk_options_inner").addClass("scrollable vertical")),c.preventDefault(),!1}),a(".dk_options a").live(a.browser.msie?"mousedown":"click",function(b){{var c=a(this),d=c.parents(".dk_container").first();d.data("dropkick")}return h(d),e(c,d),f(c.parent(),d),b.preventDefault(),!1}),a(c).bind("keydown.dk_nav",function(b){var c=a(".dk_container.dk_open"),e=a(".dk_container.dk_focus"),f=null;c.length?f=c:e.length&&!c.length&&(f=e),f&&d(b,f)})})}(jQuery,window,document);
//# sourceMappingURL=generator.js.map